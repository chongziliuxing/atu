<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Comment">
  <resultMap class="com.atu.erp.domain.Comment" id="CommentResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="sku_id" jdbcType="INTEGER" property="skuId" />
    <result column="item_id" jdbcType="INTEGER" property="itemId" />
    <result column="item_name" jdbcType="VARCHAR" property="itemName" />
    <result column="user_name" jdbcType="VARCHAR" property="userName" />
    <result column="user_id" jdbcType="INTEGER" property="userId" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="content" jdbcType="VARCHAR" property="content" />
    <result column="score" jdbcType="TINYINT" property="score" />
    <result column="useless_count" jdbcType="INTEGER" property="uselessCount" />
    <result column="useful_count" jdbcType="INTEGER" property="usefulCount" />
    <result column="advantage" jdbcType="VARCHAR" property="advantage" />
    <result column="disadvantage" jdbcType="VARCHAR" property="disadvantage" />
    <result column="order_id" jdbcType="INTEGER" property="orderId" />
    <result column="topped" jdbcType="TINYINT" property="topped" />
    <result column="status" jdbcType="TINYINT" property="status" />
    <result column="deleted" jdbcType="TINYINT" property="deleted" />
    <result column="integral" jdbcType="SMALLINT" property="integral" />
    <result column="ip" jdbcType="VARCHAR" property="ip" />
    <result column="sort_number" jdbcType="INTEGER" property="sortNumber" />
    <result column="created" jdbcType="TIMESTAMP" property="created" />
    <result column="modified" jdbcType="TIMESTAMP" property="modified" />
  </resultMap>
  <sql id="Where_Clause">
  <dynamic prepend="where" >
       <isNotNull prepend="" property="categoryId1" >
       <isNotEqual prepend="and" property="categoryId1" compareValue="0">
            category_id_1 = #categoryId1#
       </isNotEqual>
       </isNotNull>
       <isNotNull prepend="" property="categoryId2" >
  	  <isNotEqual prepend="and" property="categoryId2" compareValue="0">
        category_id_2 = #categoryId2#
      </isNotEqual>
      </isNotNull>
      <isNotNull prepend="" property="categoryId3" >
       <isNotEqual prepend="and" property="categoryId3" compareValue="0">
        category_id_3 = #categoryId3#
      </isNotEqual>
      </isNotNull>
      <isNotNull prepend="" property="categoryId4" >
      <isNotEqual prepend="and" property="categoryId4" compareValue="0">
        category_id_4 = #categoryId4#
      </isNotEqual>
      </isNotNull>
      <isNotNull prepend="and" property="itemName" >
        item_name like '%$itemName$%'
      </isNotNull>
      <isNotNull prepend="and" property="itemId" >
        item_id like '%$itemId$%'
      </isNotNull>
      <isNotNull prepend="and" property="userName" >
        user_name like '%$userName$%'
      </isNotNull>
      <isNotNull prepend="and" property="orderId" >
        order_id = #orderId#
      </isNotNull>
      <isNotEmpty  prepend="" property="score" >
      <isNotNull prepend="and" property="score" >
        score = #score#
      </isNotNull>
      </isNotEmpty>
      <isNotEmpty  prepend="" property="status" >
      <isNotNull prepend="and" property="status" >
        status = #status#
      </isNotNull>
      </isNotEmpty>
      <isNotNull prepend="and" property="modifiedStart" >
        <![CDATA[
 			modified >= DATE_FORMAT(#modifiedStart#,'%Y-%m-%d %H:%i:%s')
		]]>
      </isNotNull>
     <isNotNull prepend="and" property="modifiedEnd" >
        <![CDATA[
 			modified <DATE_FORMAT(DATE_ADD(#modifiedEnd#,INTERVAL 1 DAY),'%Y-%m-%d %H:%i:%s') 
		]]>
      </isNotNull>
      
    </dynamic>
  </sql>
  <select id="selectByPrimaryKey" parameterClass="com.atu.erp.domain.Comment" resultMap="CommentResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    select id, item_name,user_name,sku_id, item_id, user_id, title, content, score, useless_count, useful_count,
      advantage, disadvantage, order_id, topped, status, deleted, integral, ip, sort_number,
      created, modified
    from comment
    where id = #id:INTEGER#
  </select>
  <select id="selectByConditionForPage" parameterClass="com.atu.erp.domain.query.CommentQuery" resultMap="CommentResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    select id, user_name,item_name,sku_id, item_id, user_id, title, content, score, useless_count, useful_count,
      advantage, disadvantage, order_id, topped, status, deleted, integral, ip, sort_number,
      created, modified
    from comment
    <isParameterPresent>
      <include refid="Comment.Where_Clause" />
    </isParameterPresent>
     order by modified desc
     limit #start#,#pageSize#
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.atu.erp.domain.query.CommentQuery">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    delete from comment
    where id = #id:INTEGER#
  </delete>
  <delete id="deleteByExample" parameterClass="com.atu.erp.domain.query.CommentQuery">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    delete from comment
    <include refid="Comment.Where_Clause" />
  </delete>
  <insert id="insert" parameterClass="com.atu.erp.domain.Comment">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    insert into comment (id,user_name,item_name, sku_id, item_id, user_id, title, content, score, useless_count,
      useful_count, advantage, disadvantage, order_id, topped, status, deleted, integral, ip,
      sort_number, created, modified)
    values (#id:INTEGER#,#userName:VARCHAR#,#itemName:VARCHAR#, #skuId:INTEGER#, #itemId:INTEGER#, #userId:INTEGER#, #title:VARCHAR#,
      #content:VARCHAR#, #score:TINYINT#, #uselessCount:INTEGER#, #usefulCount:INTEGER#,
      #advantage:VARCHAR#, #disadvantage:VARCHAR#, #orderId:INTEGER#, #topped:TINYINT#,
      #status:TINYINT#, #deleted:TINYINT#, #integral:SMALLINT#, #ip:VARCHAR#, #sortNumber:INTEGER#,
      #created:TIMESTAMP#, #modified:TIMESTAMP#)
  </insert>
  <update id="updateByPrimaryKeySelective" parameterClass="com.atu.erp.domain.query.CommentQuery">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    update comment
    <dynamic prepend="set">
      <isNotNull prepend="," property="skuId">
        sku_id = #skuId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="itemId">
        item_id = #itemId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="userId">
        user_id = #userId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="title">
        title = #title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="content">
        content = #content:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="score">
        score = #score:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="uselessCount">
        useless_count = #uselessCount:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="usefulCount">
        useful_count = #usefulCount:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="advantage">
        advantage = #advantage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="disadvantage">
        disadvantage = #disadvantage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orderId">
        order_id = #orderId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="topped">
        topped = #topped:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="status">
        status = #status:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="deleted">
        deleted = #deleted:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="integral">
        integral = #integral:SMALLINT#
      </isNotNull>
      <isNotNull prepend="," property="ip">
        ip = #ip:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sortNumber">
        sort_number = #sortNumber:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="created">
        created = #created:TIMESTAMP#
      </isNotNull>
       ,modified = now()
    </dynamic>
    where id = #id:INTEGER#
  </update>
  <select id="countByCondition" parameterClass="com.atu.erp.domain.query.CommentQuery" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    select count(*) from comment
    <include refid="Comment.Where_Clause" />
  </select>
  <update id="updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    update comment
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.id">
        id = #record.id:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.skuId">
        sku_id = #record.skuId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.itemId">
        item_id = #record.itemId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.userId">
        user_id = #record.userId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.title">
        title = #record.title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.content">
        content = #record.content:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.score">
        score = #record.score:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="record.uselessCount">
        useless_count = #record.uselessCount:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.usefulCount">
        useful_count = #record.usefulCount:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.advantage">
        advantage = #record.advantage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.disadvantage">
        disadvantage = #record.disadvantage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.orderId">
        order_id = #record.orderId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.topped">
        topped = #record.topped:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="record.status">
        status = #record.status:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="record.deleted">
        deleted = #record.deleted:TINYINT#
      </isNotNull>
      <isNotNull prepend="," property="record.integral">
        integral = #record.integral:SMALLINT#
      </isNotNull>
      <isNotNull prepend="," property="record.ip">
        ip = #record.ip:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sortNumber">
        sort_number = #record.sortNumber:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.created">
        created = #record.created:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.modified">
        modified = #record.modified:TIMESTAMP#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="Comment.Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="updateByExample">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Feb 10 11:09:20 CST 2015.
    -->
    update comment
    set id = #record.id:INTEGER#,
      sku_id = #record.skuId:INTEGER#,
      item_id = #record.itemId:INTEGER#,
      user_id = #record.userId:INTEGER#,
      title = #record.title:VARCHAR#,
      content = #record.content:VARCHAR#,
      score = #record.score:TINYINT#,
      useless_count = #record.uselessCount:INTEGER#,
      useful_count = #record.usefulCount:INTEGER#,
      advantage = #record.advantage:VARCHAR#,
      disadvantage = #record.disadvantage:VARCHAR#,
      order_id = #record.orderId:INTEGER#,
      topped = #record.topped:TINYINT#,
      status = #record.status:TINYINT#,
      deleted = #record.deleted:TINYINT#,
      integral = #record.integral:SMALLINT#,
      ip = #record.ip:VARCHAR#,
      sort_number = #record.sortNumber:INTEGER#,
      created = #record.created:TIMESTAMP#,
      modified = #record.modified:TIMESTAMP#
    <isParameterPresent>
      <include refid="Comment.Where_Clause" />
    </isParameterPresent>
  </update>
</sqlMap>